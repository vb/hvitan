---
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';

export interface Props {
  title: string;
}

const { title } = Astro.props;
---

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="generator" content={Astro.generator} />
    <title>{title}</title>
  </head>
  <body>
    <div class="layout">
      <Header title={title} />
      <main>
        <slot />
      </main>
      <Footer />
    </div>
    <style is:global>
      html {
        color: #222;
        font-family: Courier, Helvetica, Arial, sans-serif;
        font-weight: 400;
        word-wrap: break-word;
        -webkit-font-kerning: normal;
        font-kerning: normal;
        font-size: 16px;
        line-height: 1.5;
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      a,
      a:visited,
      a:link,
      a:visited,
      a:hover,
      a:active {
        color: #222;
      }

      .layout {
        max-width: 528px;
        padding: 0 1em;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        margin: 0 auto;
        min-height: 100vh;
      }

      main {
        margin-bottom: 3em;
      }
    </style>
  </body>
</html>

<script>
  (function (b, o, i, l, e, r) {
    b.GoogleAnalyticsObject = l;
    b[l] ||
      (b[l] = function () {
        (b[l].q = b[l].q || []).push(arguments);
      });
    b[l].l = +new Date();
    e = o.createElement(i);
    r = o.getElementsByTagName(i)[0];
    e.src = 'https://www.google-analytics.com/analytics.js';
    r.parentNode.insertBefore(e, r);
  })(window, document, 'script', 'ga');
  ga('create', 'UA-89859439-1', 'auto');
  ga('send', 'pageview');

  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    links[i].addEventListener('click', function (e) {
      ga(
        'send',
        'event',
        'Outbound link',
        'click',
        e.target.getAttribute('data-ga')
      );
    });
  }
</script>
